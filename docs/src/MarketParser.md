# MarketParser.py

## Purpose
Parses the Market.json file generated by Elite Dangerous to read station/megaship commodity market data. Determines buyable and sellable commodities with pricing and availability information.

## Key Classes/Functions
- MarketParser: Reads and analyzes market data from JSON file

## Key Methods
- get_market_data(): Loads current market data from JSON, caches if file unchanged
- get_item(item_name): Retrieves single commodity data by localized name
- get_buyable_items(): Returns filtered list of purchasable items (Producer=true, Stock>0, or Rare)
- get_sellable_items(cargo_parser): Returns filtered list of sellable items (Consumer=true or Demand>0 or Rare), filters against player cargo
- can_buy_item(item_name): Boolean check if item is available for purchase
- can_sell_item(item_name): Boolean check if item is accepted by market
- get_market_name(): Returns current station/market name

## Commodity Item Fields
- Name, Name_Localised, Category, Category_Localised
- BuyPrice, SellPrice, MeanPrice
- Stock, Demand, StockBracket (0-3), DemandBracket (0-3)
- Producer, Consumer, Rare flags

## Dependencies
- os: File operations
- json: JSON parsing
- WindowsKnownPaths: Windows path resolution
- EDlogger: Logging

## Notes
- Returns None if Market.json doesn't exist
- Implements file caching with modification time checking
- Retry logic with exponential backoff on read errors
- Filters items intelligently: rares always buyable/sellable, normal items require Producer/Consumer flags
- Sellable items filtered based on what player actually has in cargo
- Results sorted by category then name for UI display
